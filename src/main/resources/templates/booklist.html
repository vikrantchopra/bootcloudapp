<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3">
<head>
	<title>Spring Boot Cloud App</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    
    <link href="../static/css/bootstrap.min.css" th:href="@{/css/bootstrap.css}" rel="stylesheet" media="screen" />
    <link href="../static/css/styles.css" th:href="@{/css/styles.css}" rel="stylesheet" media="screen" />
    <script src="http://code.jquery.com/jquery-latest.js"></script>
    <!-- <script src="../static/js/bootstrap.min.js"></script> -->
    <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css" rel="stylesheet" media="screen" />
    
</head>

<body>
    <div th:replace="fragments/header :: header"></div>
    <br/><br/><br/>
    
<!-- <div th:text="${#authentication.name}"> 
    The value of the "name" property of the authentication object should appear here.
</div>-->
	<h2 style="width:90%; margin-left: 5%;">Book List</h2>
	
	<table border="1" class="table table-striped table-bordered table-hover" style="width:90%; margin-left: 5%;">
		<thead>
			<tr>
			<th style="text-align:center">ID</th>
				<th style="text-align:center">ISBN</th>
				<th style="width: 200px;text-align:center">Title</th>
				<th style="text-align:center">Author</th>
				<th style="text-align:center">Description</th>
				<th style="text-align:center">Action</th>
			</tr>
		</thead>
		<tbody>
			<tr th:each="book : ${books}">
				<td th:text="${book.id}">1</td>
				<td th:text="${book.isbn}">1234</td>
				<td th:text="${book.title}" style="width:25%">Cambridge</td>
				<td th:text="${book.author}">Charles Darwin</td>
				<td th:text="${book.description}">Evolution through billions of years</td>
				
				<td style="text-align: center; width:25%;">
					
					<a class="btn btn-warning" href="#" data-th-href="@{/book/edit/{id}(id=${book.id})}">
  						<i class="fa fa-pencil"></i> Edit
  					</a>
  					
					<a class="btn btn-danger" href="#" data-th-href="@{/book/delete/{id}(id=${book.id},phase=stage)}" onclick="$('#form').submit();">
  						<i class="fa fa-trash-o fa-lg"></i> Delete
  					</a>
  					<!-- <form th:action="@{/book/delete}" th:object="${book.id}" method="post">
			            <input type="hidden" th:field="*{id}" />
			            <button type="submit" class="btn btn-danger"><i class="fa fa-trash-o fa-lg"></i>Delete</button>
			        </form> -->
				</td>
				<!-- <td style="text-align: center;">
					<form th:action="@{/users/doDelete}" th:object="${customer}" method="post">
			            <input type="hidden" th:field="${id}" />
			            <button type="submit">Delete</button>
			        </form>
					<a class="btn btn-warning" href="#" data-th-href="@{/book/edit/{id}(id=${book.id})}">
  						<i class="fa fa-pencil"></i> Edit
  					</a>
					<a class="btn btn-danger" href="#" data-th-href="@{/delete/{id}(id=${book.id},phase=stage)}" onClick="window.location.reload(true)">
  						<i class="fa fa-trash-o fa-lg"></i> Delete
  					</a>
				</td> -->
			</tr>
			
		</tbody>
	</table>
	<a class="btn btn-primary" href="#" data-th-href="@{/book/new}" style="margin-left:5%">
		<i class="fa fa-plus-square-o"></i> Add Book
	</a>
	<!-- <a th:href="@{/book/new}">Add another book to the list</a> -->
	<form style="visibility:hidden" id="form" method="post" action="#" th:action="@{/book/delete/ + ${book.id}}"></form>
</body>

</html>